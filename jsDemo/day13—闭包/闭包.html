<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8">
		<title>闭包</title>
	</head>
	<body>
		<script>
			function f1(){
		　　　　var n=999;
		　　　　nAdd=function(){n+=1}
		　　　　function f2(){
		　　　　　　alert(n);
		　　　　}
		　　　　return f2;
		　　}
		　　var result=f1();
		　　result(); // 999
		　　nAdd();
		　　result(); // 1000
		
			/*var name = "The Window";   
		　　	var object = {   
		　　　　name : "My Object",   
		　　　　getNameFunc : function(){   //this 此时指向的还是object  	
		　　　　　　return this.name;   //this此时指向的还是还是object
		　　　　}   
			};   
			alert(object.getNameFunc());  //My Object*/
			
			var name = "The Window";   
		　　	var object = {   
		　　　　name : "My Object",   
		　　　　getNameFunc : function(){   //this 此时指向的还是object
		　　　　　　return function(){   	
		　　　　　　　　return this.name;   //此时this指向的是windows
		　　　　　};   
		　　　　}   
			};   
			alert(object.getNameFunc()());  //The Window
			
			function outerFun()
			{
			 var a=0;
			 function innerFun()
			 {
			  a++;
			  alert(a);
			 }
			 return innerFun;  //注意这里
			}
			var obj1=outerFun();
			obj1();  //结果为1
			obj1();  //结果为2
			var obj2=outerFun();
			obj2();  //结果为1
			obj2();  //结果为2
			
			function outerFun2()
			{
				var a =0;
				alert(a);  
			}
			var a=4;
			outerFun2();   //0
			alert(a);   //4
			
			function outerFun3()
			{
			 a =0;   //没有var 就相当于是全局变量
			 alert(a);  
			}
			var a=4;
			outerFun();   //0
			alert(a);   //0
			
		</script>
	</body>
</html>
