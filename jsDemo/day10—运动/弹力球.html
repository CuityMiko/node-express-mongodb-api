<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>弹力球</title>
		<style>
			#game{margin: 0 auto;width: 800px;height: 500px;position: relative;border: 2px solid #E4393C;}
			p{text-align: center;}
			p input{height: 24px;}
		</style>
	</head>
	<body>
		<div id="game"></div>
		<p>
			<input type="button" value="开始" id="start"/>
			<input type="button" id="speedUp" value="加速" />
			<input type="button" value="结束" id="end"/>
		</p>
		
		<script>
			var game=document.getElementById("game");
			var start=document.getElementById("start");
			var speedUp=document.getElementById("speedUp");
			var end=document.getElementById("end");
			var ball;
			var timer;
			var speed;
			var horizontal="right";
			var vertical="down";
			
			init();
			start.onclick=function(){
				speed=20;
				clearInterval(timer);
				timer=setInterval(function(){
					move();
					check();
				},speed);
			}
			speedUp.onclick=function(){
				clearInterval(timer);
				speed--;
				timer=setInterval(function(){
					move();
					check();
				},speed);
			}
			end.onclick=function(){
				clearInterval(timer);
			}
			function init(){
				ball=document.createElement("div");
				ball.style.width="30px";
				ball.style.height="30px";
				ball.style.background="url(img/ball.png) no-repeat";
				ball.style.position="absolute";
				ball.style.top=Math.floor(Math.random()*47)*10+"px";
				ball.style.left=Math.floor(Math.random()*77)*10+"px";
				game.appendChild(ball);
			}
			
			function move(){
				switch(horizontal){
					case "left":
						ball.style.left=(ball.offsetLeft-10)+"px";
						break;
					case "right":
						ball.style.left=(ball.offsetLeft+10)+"px";
						break;
				}
				switch(vertical){
					case "up":
						ball.style.top=(ball.offsetTop-10)+"px";
						break;
					case "down":
						ball.style.top=(ball.offsetTop+10)+"px";
						break;
				}
			}
			
			function check(){
				if(horizontal=="right"&&ball.offsetLeft==770){
					horizontal="left";
				}else if(horizontal=="left"&&ball.offsetLeft==0){
					horizontal="right";
				}
				if(vertical=="up"&&ball.offsetTop==0){
					vertical="down";
				}else if(vertical=="down"&&ball.offsetTop==470){
					vertical="up";
				}
			}
			
		</script>
		
	</body>
</html>
