<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>勾股定理排序对角</title>
		<style>
				*{margin: 0;padding: 0;}
				div{width: 5px;height: 5px;position: absolute;}
		</style>
		<script src="变速运动封装/moveUtil.js"></script>
	</head>
	<body>
		<script>
			var timer;
			randomDiv(360);
			document.onmousedown=function(){
				clearInterval(timer);
				var arrDiv=sortDiv();
				moveGo(arrDiv);
			}
		
			function randomDiv(n){
				var fragment=document.createDocumentFragment();
				for(var i=0;i<n;i++){
					var divNew=document.createElement("div");
					divNew.style.top=Math.floor(Math.random()*900)+"px";
					divNew.style.left=Math.floor(Math.random()*1200)+"px";
					divNew.style.background="rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")";
					fragment.appendChild(divNew);
				}
				document.body.appendChild(fragment);
			}
			
			function sortDiv(){
				var arrDiv=[];
				var divList=document.getElementsByTagName("div");
				for(var m=0;m<divList.length;m++){
					arrDiv.push(divList[m]);
				}
				for(var i=0;i<arrDiv.length-1;i++){
					for(var j=0;j<arrDiv.length-1-i;j++){
						if(getLongValue[j]>getLongValue[j+1]){
							var temp;
							temp=arrDiv[j];
							arrDiv[j]=arrDiv[j+1];
							arrDiv[j+1]=temp;
						}
					}
				}
				return arrDiv;
			}
			
			function getLongValue(dom){
				return Math.pow(dom.offsetTop,2)+Math.pow(dom.offsetLeft,2);
			}
			
			function moveGo(divList){
				for(var i=0;i<divList.length/2;i++){
					var target={
						"top":(5*i),
						"left":(7*i),
					}
					moveStart(divList[i],target);
				}
				for(var j=divList.length/2;j<divList.length;j++){
					var target={
						"top":(900-(j-divList.length/2)*5),
						"left":((j-divList.length/2)*7),
					}
					moveStart(divList[j],target);
				}
			}
			
		</script>
	</body>
</html>