<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>过滤空白节点函数封装</title>
	</head>
	<body>
		
		<div id="div1">
			<p id="p1">1</p>
			<p id="p2">2</p>
			<p id="p3">3</p>
		</div>
		
		<script>
			var div1=document.getElementById("div1");
			var p1=document.getElementById("p3");
			console.log(nextSiblingEx(p1));
			
			
			//childNodes属性进行过滤空白节点封装
			function childNodesEx(dom){
				var childNodes=dom.childNodes;
				var arr=[];
				for(var i=0;i<childNodes.length;i++){
					if(childNodes[i].nodeType==1){
						arr.push(childNodes[i]);
					}
				}
				return arr;
			}
			
			//firstChild属性进行过滤空白节点封装
			function firstChildEx(dom){
				if(dom.firstElementChild){
					//IE9.0之前无此方法，IE9.0之后 和非IE不包含文本节点
					return dom.firstChild;
				}else{
					//IE9.0之前过滤空白文本节点，IE9.0之后 和非IE包含空文本节点
					return dom.firstChild;
				}
			}
			
			//lastChild属性进行过滤空白节点封装
			function lastChildEx(dom){
				if(dom.lastElementChild){
					//IE9.0之前无此方法，IE9.0之后 和非IE不包含文本节点
					return dom.lastChild;
				}else{
					//IE9.0之前过滤空白文本节点，IE9.0之后 和非IE包含空文本节点
					return dom.lastChild;
				}
			}
			
			//previousSibling属性进行过滤空白节点封装
			function previousSiblingEx(dom){
				if(dom.previousElementSibling){
					//IE9.0之前无此方法，IE9.0之后 和非IE不包含文本节点
					return dom.previousElementSibling;
				}
				else{
					//IE9.0之前过滤空白文本节点，IE9.0之后 和非IE包含空文本节点
					return dom.previousSibling;
				}
			}
			
			//nextSibling属性进行过滤空白节点封装
			function nextSiblingEx(dom){
				if(dom.nextElementSibling){
					//IE9.0之前无此方法，IE9.0之后 和非IE不包含文本节点
					return dom.nextElementSibling;
				}
				else{
					//IE9.0之前过滤空白文本节点，IE9.0之后 和非IE包含空文本节点
					return dom.nextSibling;
				}
			}

			
		</script>
	</body>
</html>
