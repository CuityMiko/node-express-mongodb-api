<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>监听事件封装</title>
		<style>
			div{width: 400px;height: 400px;background: red;}
		</style>
	</head>
	<body>
		
		<div id="div"></div>
		
		<script>
			var div=document.getElementById("div");
			
			//两种都可以
//			function addEventFn(dom,type,fnName){
//				if(dom.addEventListener){
//					dom.addEventListener(type,fnName,false);
//				}else{
//					dom.attachEvent("on"+type,fnName);
//				}
//			}
			function addEventFn(dom,type,fnName){
				if(dom.attachEvent){
					//IE的监听事件
					dom.attachEvent("on"+type,fnName);
				}else{
					//非IE的监听事件      第三个参数:捕获和冒泡(true\false)。
					//冒泡由里向外冒泡,捕获相反,
					dom.addEventListener(type,fnName,false);
				}
			}
			
			function removeEventFn(dom,type,fnName){
				if(dom.removeEventListener){
					//通过addEventListenter()添加的事件必须通过removeEventListener()
					//来移除，使用移除事件时参数必须与添加事件时一致，否则无法移除，
					//使用匿名函数也无法移除
					dom.removeEventListener(type,fnName,false);
				}else if(dom.detachEvent){
					//IE的监听事件
					dom.detachEvent("on"+type,fnName);
				}
				else{
					dom["on"+type]=null;
				}
			}
			
			
			function alertData(){
				alert("ok");
			}
			addEventFn(document,"click",alertData);
			removeEventFn(document,"click",alertData);
		</script>
	</body>
</html>
