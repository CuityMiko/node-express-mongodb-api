<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>获取验证码</title>
	</head>
	<body>
		请输入你要获取的验证码的长度:<input type="text" id="num" />
		<input type="button" value="获取验证码" id="btn" /><br />
		<input type="text" id="txt" disabled="disabled" />
		
		<script>
			var btn=document.getElementById("btn");
			var txt=document.getElementById("txt");
			var num=document.getElementById("num");
			var interval;
			
			btn.onclick=function(){
				var i=10;
				btn.setAttribute("disabled","disabled");
				txt.value=getRandomCode(num.value);
				btn.value="("+i+")秒之后重试";
				interval=setInterval(function(){
					i--;
					btn.value="("+i+")秒之后重试";
					if(i<=0){
						clearInterval(interval);
						btn.removeAttribute("disabled");
						btn.value="请重新获取验证码";
					}
				},1000);
			}
			
			function getRandomCode(n){
				var arr=["1","2","3","4","5","6","7","8","9","0","a","b","c","d","e","f","g","h","i","j","k","l","m","","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];
				var str="";
				for(var i=0;i<n;i++){
					str+=arr[Math.floor(Math.random()*62)];
				}
				return str;
			}
			
			
		</script>
		
		
	</body>
</html>
