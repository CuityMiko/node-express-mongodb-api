<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>深度冻结</title>
	</head>
	<body>
		<script>
			 function R1() {
		        this.name="bo";
		        this.age=12;
		        this.stu=function () {
		            this.name="v1";
		            this.age=21;
		            this.show=function () {
		                alert(this.name)
		            }
		        }
		    }
		    var S1=new R1();
		    alert(S1.name);//bo
		
		    Object.freeze(S1);
		    S1.stu.prototype=S1;
		    Object.freeze(S1.stu.prototype);
		    S1.name="cv";
		    alert(S1.name);//bo
		
		    var S2=new S1.stu();
			alert( S2.name);//bo
		    S2.name="xx";
		    alert( S2.name);//bo
		    
		    let attr1={
		    	name:"zhangsan",
		    	age:20,
		    	friends:{
		    		name:"lisi",
		    		age:30,
		    		friends:{
		    			name:"wangwu",
		    			age:10
		    		}
		    	}
		    }
		    fn(attr1);
		    attr1.friends.friends.name="bobo";
		    
		    function fn(obj){
		    	Object.freeze(obj);
		    	for(var attr in obj){
		    		if(typeof obj[attr]=="object"){
		    			fn(obj[attr]);
		    		}
		    	}
		    }
		    
		</script>
	</body>
</html>
