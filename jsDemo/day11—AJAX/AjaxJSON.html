<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>AjaxJSON</title>
	</head>
	<body>
		<p id="name">1</p>
		<p id="age">2</p>
		<p id="src">3</p>
		<input type="button" name="btn" id="btn" value="获取数据" />
		
		<script>
			var btn=document.getElementById("btn");
			btn.onclick=function(){
				var xhr;
				if(window.XMLHttpRequest){
					xhr=new XMLHttpRequest();
				}
				else{
					xhr=new ActiveXObject("Micorsoft.XMLHTTP");
				}
				xhr.onreadystatechange=function(){
					if(xhr.readyState==4){
						if(xhr.status==200){
							var result=xhr.responseText;
							var data=eval("("+result+")");
							var name=document.getElementById("name");
							name.innerHTML=data.name;
							var age=document.getElementById("age");
							age.innerHTML=data.age;
							var src=document.getElementById("src");
							var imgsrc=document.createElement("img");
							imgsrc.style.width="400px";
							imgsrc.style.height="260px";
							imgsrc.src="img/"+data.imgsrc;
							src.innerHTML="";
							src.appendChild(imgsrc);
						}
					}
				}
				xhr.open("GET","data/jsonData.json",true);
				xhr.send();
			}
		</script>
		
	</body>
</html>
